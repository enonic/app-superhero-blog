<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<site xmlns="urn:enonic:xp:model:1.0">
  <x-data name="siteCommon" allowContentTypes="portal:site" />
  <x-data name="menu-item" allowContentTypes="^(base:shortcut)|(.+:landing-page)$"/>
  <form>
    <input type="TextLine" name="numPosts">
      <label>Max posts per page</label>
      <occurrences minimum="0" maximum="1"/>
    </input>
    <input type="ContentSelector" name="postsFolder">
      <label>Posts folder</label>
      <occurrences minimum="0" maximum="1"/>
      <config>
        <relationship-type>system:reference</relationship-type>
        <allow-content-type>base:folder</allow-content-type>
      </config>
    </input>
    <input type="ContentSelector" name="searchPage">
      <label>Search page</label>
      <occurrences minimum="0" maximum="1"/>
      <config>
        <relationship-type>system:reference</relationship-type>
        <allow-content-type>landing-page</allow-content-type>
      </config>
    </input>
    <input type="ContentSelector" name="postsList">
      <label>Posts list page</label>
      <occurrences minimum="0" maximum="1"/>
      <config>
        <relationship-type>system:reference</relationship-type>
        <allow-content-type>portal:site</allow-content-type>
        <allow-content-type>landing-page</allow-content-type>
      </config>
    </input>
    <input type="Checkbox" name="noLogin">
      <label>Disallow login</label>
      <occurrences minimum="0" maximum="1"/>
    </input>
    <input type="CheckBox" name="commentsStyle">
      <label>Use default comments style</label>
      <default>checked</default>
      <help-text>If you have your own styling turn this off</help-text>
      <occurrences minimum="0" maximum="1"/>
    </input>
  </form>

  <mappings>
    <mapping controller="/site/pages/default/default.js">
      <match>type:'portal:fragment'</match>
    </mapping>
    <mapping controller="/site/pages/rss/rss.js">
      <pattern>.*\/rss</pattern>
    </mapping>
  </mappings>
</site>
